{
    "schema_version": 1,
    "enabled": true,

    "state_resource_file": "resource_wellness_pipeline_status.json",

    "daily_reset": {
        "boundary_hour_local": 5
    },

    "stages": [
        {
            "id": "sleep",
            "enabled": true,
            "stage_class": "app.assistant.day_flow_manager.stages.sleep_stage:SleepStage",
            "run_policy": { "type": "always", "min_interval_seconds": 300 },
            "afk_guard": { "skip_when_afk": true, "skip_when_potentially_afk": true }
        },
        {
            "id": "afk_statistics",
            "enabled": true,
            "stage_class": "app.assistant.day_flow_manager.stages.afk_statistics_stage:AFKStatisticsStage",
            "run_policy": { "type": "always" },
            "description": "Always runs - no cost, provides AFK data for other stages"
        },
        {
            "id": "activity_tracker",
            "enabled": true,
            "stage_class": "app.assistant.day_flow_manager.stages.activity_tracker_stage:ActivityTrackerStage",
            "run_policy": { "type": "always", "min_interval_seconds": 60 },
            "afk_guard": { "skip_when_afk": true, "skip_when_potentially_afk": true }
        },
        {
            "id": "daily_context_generator",
            "enabled": true,
            "stage_class": "app.assistant.day_flow_manager.stages.daily_context_generator_stage:DailyContextGeneratorStage",
            "run_policy": { "type": "always", "min_interval_seconds": 300 },
            "afk_guard": { "skip_when_afk": true, "skip_when_potentially_afk": true }
        },
        {
            "id": "health_inference",
            "enabled": true,
            "stage_class": "app.assistant.day_flow_manager.stages.health_inference_stage:HealthInferenceStage",
            "run_policy": { "type": "always", "min_interval_seconds": 300 },
            "afk_guard": { "skip_when_afk": true, "skip_when_potentially_afk": true }
        },
        {
            "id": "day_flow_orchestrator",
            "enabled": true,
            "stage_class": "app.assistant.day_flow_manager.stages.day_flow_orchestrator_stage:DayFlowOrchestratorStage",
            "run_policy": { "type": "always", "min_interval_seconds": 300 },
            "afk_guard": { "skip_when_afk": true, "skip_when_potentially_afk": true }
        }
    ]
}
