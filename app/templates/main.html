{% extends 'base.html' %}
{% block optional_css %} <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}
{% block content %}
<audio id="chatBotAudio"></audio>
<div><svg id="expand-button" xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg></div>
<div id="lesson-btn-container"><button id="lesson-btn">Lesson</button></div>
<div id="prompt-menu">
    <label for="language">Language:</label>
    <input type="text" id="language" name="language" value="{{ language_settings['language_config']['language'] }}">

    <label for="respond_prompt">Respond System Prompt:</label>
    <input type="text" id="respond_prompt" name="respond_prompt" value="{{ lesson_settings['respond_config']['respond_prompt'] }}">

    <label for="correct_prompt">Correct System Prompt:</label>
    <input type="text" id="correct_prompt" name="correct_prompt" value="{{ lesson_settings['correct_config']['correct_prompt'] }}">

    <input id="save-btn-prompt-menu" type="button" value="Save">
</div>
<section id="chat-container">
    <div class="chat-box" id="chat-box-container">
        <div class="chat-box-header">
            <i id="audio-icon" class="fas fa-volume-off"></i>
        </div>
        <div class="chat-box-body" id="chat-box">
        </div>
        <div class="chat-box-footer">
            <input id="message_input" placeholder="Enter Your Message" type="text" autocomplete="off"/>
            <div id="record-btn-container">
                <i class="fas fa-microphone microphone-icon" id="record-btn-off"></i>
                <i class="fas fa-microphone microphone-icon" id="record-btn-on"></i>
            </div>
            <div id="audio-playback-btn-container">
                <svg xmlns="http://www.w3.org/2000/svg" id="audio-playback-off-icon" height="16" width="10" viewBox="0 0 320 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M320 64c0-12.6-7.4-24-18.9-29.2s-25-3.1-34.4 5.3L131.8 160H64c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64h67.8L266.7 471.9c9.4 8.4 22.9 10.4 34.4 5.3S320 460.6 320 448V64z"/></svg>
                <svg xmlns="http://www.w3.org/2000/svg" id="audio-playback-on-icon" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M215 71.1L126.1 160H24c-13.3 0-24 10.7-24 24v144c0 13.3 10.7 24 24 24h102.1l89 89c15 15 41 4.5 41-17V88c0-21.5-26-32-41-17zm233.3-51.1c-11.2-7.3-26.2-4.2-33.5 7-7.3 11.2-4.2 26.2 7 33.5 66.3 43.5 105.8 116.6 105.8 195.6 0 79-39.6 152.1-105.8 195.6-11.2 7.3-14.3 22.3-7 33.5 7 10.7 21.9 14.6 33.5 7C528.3 439.6 576 351.3 576 256S528.3 72.4 448.4 20zM480 256c0-63.5-32.1-121.9-85.8-156.2-11.2-7.1-26-3.8-33.1 7.5s-3.8 26.2 7.4 33.4C408.3 166 432 209.1 432 256s-23.7 90-63.5 115.4c-11.2 7.1-14.5 22.1-7.4 33.4 6.5 10.4 21.1 15.1 33.1 7.5C447.9 377.9 480 319.5 480 256zm-141.8-76.9c-11.6-6.3-26.2-2.2-32.6 9.5-6.4 11.6-2.2 26.2 9.5 32.6C328 228.3 336 241.6 336 256c0 14.4-8 27.7-20.9 34.8-11.6 6.4-15.8 21-9.5 32.6 6.4 11.7 21.1 15.8 32.6 9.5 28.2-15.6 45.8-45 45.8-76.9s-17.5-61.3-45.8-76.9z"/></svg>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block optional_js %}
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js" integrity="sha384-mZLF4UVrpi/QTWPA7BjNPEnkIfRFn4ZEO3Qt/HFklTJBj/gBOV8G3HcKn4NfQblz" crossorigin="anonymous"></script>

<script src="../static/js/main.js"></script>
{% endblock %}